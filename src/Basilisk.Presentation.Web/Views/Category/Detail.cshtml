@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
@model CategoryProductDetailViewModel

@section breadcrumbs{
    <span>Product</span>
}

<h4>Category Name           : @Model.Category.Name</h4>
<h4>Catagory Description    : @if (String.IsNullOrEmpty(Model.Category.Description)){
        @:N/A
    }
    else
    {
      @Model.Category.Description
    }
    </h4>
<div class="grid-container category-index">
    <table>
        <thead>
            <tr>
                <th>Id</th>
                <th>Name</th>
                <th>Supplier</th>
                <th>Price</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var product in Model.Products)
            {
                <tr>
                    <td>@product.Id</td>
                    <td>@product.Name</td>
                    <td>@product.SupplierName</td>
                    <td>@product.Price.ToString("C")</td>
                </tr>
            }

        </tbody>
        <tfoot>
            <tr>
                <td colspan="3">
                    <div class="pagination">
                        @if (Model.PaginationInfo.CurrentPage > Model.PaginationInfo.TotalPage)
                        {
                            <div>page @Model.PaginationInfo.TotalPage of @Model.PaginationInfo.TotalPage</div>
                        }
                        else if (Model.PaginationInfo.CurrentPage < 1)
                        {
                            <div>page 1 of @Model.PaginationInfo.TotalPage</div>
                        }
                        else
                        {
                            <div>page @Model.PaginationInfo.CurrentPage of @Model.PaginationInfo.TotalPage</div>
                        }

                        <div>
                            @for (var num = 1; num <= Model.PaginationInfo.TotalPage; num++)
                            {
                                
                                <a asp-action="Detail" asp-route-page="@num" asp-route-id="@Model.Category.Id" class="@(num == Model.PaginationInfo.CurrentPage ? "current-page" : "")">
                                    <span>@num</span>
                                </a>
                            }
                        </div>

                    </div>
                </td>
            </tr>
        </tfoot>
    </table>
    <a class="blue-button" asp-action="Index">Back to Index</a>
</div>